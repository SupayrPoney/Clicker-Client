(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(30),a(24)),o=a(9),i=a(10),u=a(11),m=a(13),f=a(12),v=(a(31),a(20)),p=a.n(v),d=(a(33),function(e){var t=e.clickHandler;return r.a.createElement("img",{className:"clicker",src:"https://robohash.org/2?set=set1",onClick:t,alt:"Clicker"})}),h=(a(34),function(e){var t=e.infrastructure,a=e.infraClickHandler,n=e.amountRobots;return r.a.createElement("div",{className:"infrastructure "+(n>=t.price?"affordable":"unaffordable"),onClick:function(){return a(t.id)}},r.a.createElement("img",{className:"ratio-kept",src:"https://robohash.org/C"+t.id+"?set=set4",alt:"InfrastructureImage"}),r.a.createElement("h1",null,t.name),r.a.createElement("p",null,t.amount),r.a.createElement("p",null,"Costs "+t.price))}),b=(a(35),function(e){var t=e.infrastructures,a=e.infraClickHandler,n=e.amountRobots;return r.a.createElement("div",{className:"infra-list"},t.map((function(e){return r.a.createElement(h,{infrastructure:e,key:e.id,infraClickHandler:a,amountRobots:n})})))}),E=a(7);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var y=r.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:#2B79C2;}\n\t.st1{fill:#3B4652;}\n"),C=r.a.createElement("g",null,r.a.createElement("path",{className:"st1",d:"M216.4,418.4c0,21.9,17.7,39.6,39.6,39.6s39.6-17.7,39.6-39.6v-2.5h-79.2V418.4z"}),r.a.createElement("path",{className:"st1",d:"M365.4,163.4c0-30.2-12.3-57.6-32-77.4c-19.8-19.8-47.2-32-77.4-32c-60.4,0-109.4,49-109.4,109.4v9.3h218.8   V163.4z M219,152.5c-11.2,0-20.2-9-20.2-20.2c0-11.2,9-20.2,20.2-20.2s20.2,9,20.2,20.2C239.2,143.5,230.1,152.5,219,152.5z    M293,152.5c-11.2,0-20.2-9-20.2-20.2c0-11.2,9-20.2,20.2-20.2s20.2,9,20.2,20.2C313.3,143.5,304.2,152.5,293,152.5z"}),r.a.createElement("path",{className:"st0",d:"M146.6,339.8c0,34.3,27.8,62.1,62.1,62.1h94.6c34.3,0,62.1-27.8,62.1-62.1v-153H146.6V339.8z M214.8,242.4   h82.5v60.7c0,22.8-18.5,41.2-41.2,41.2s-41.2-18.5-41.2-41.2V242.4z"}),r.a.createElement("path",{className:"st1",d:"M107,239.1v19.4l0,0c-22.2,0-40.3-18.1-40.3-40.3v-43c12-2.9,21.2-13.2,22.5-25.7l15.4-15.4   c1.3-1.3,2.1-3.1,2.1-4.9v-26.7c0-3.9-3.1-7-7-7s-7,3.1-7,7v23.8l-6.6,6.6c-4.9-9.5-14.9-16-26.3-16c-11.4,0-21.4,6.5-26.3,16   l-6.6-6.6v-23.8c0-3.9-3.1-7-7-7s-7,3.1-7,7v26.7c0,1.9,0.7,3.6,2,4.9l15.4,15.4c1.3,12.6,10.5,22.8,22.5,25.7v43   c0,29.9,24.4,54.3,54.3,54.3l0,0v24.2c0,8.7,7,15.8,15.8,15.8h9.8v-89.1h-9.8C114,223.4,107,230.4,107,239.1z"}),r.a.createElement("path",{className:"st1",d:"M492.3,95.5c-3.9,0-7,3.1-7,7v23.8l-6.6,6.6c-4.9-9.5-14.9-16-26.3-16c-11.4,0-21.4,6.5-26.3,16l-6.6-6.6   v-23.8c0-3.9-3.1-7-7-7s-7,3.1-7,7v26.7c0,1.9,0.7,3.6,2.1,4.9l15.4,15.4c1.3,12.6,10.5,22.8,22.5,25.7v43   c0,22.2-18.1,40.3-40.3,40.3l0,0v-19.4c0-8.7-7-15.8-15.8-15.8h-9.8v89.1h9.8c8.7,0,15.8-7.1,15.8-15.8v-24.2l0,0   c29.9,0,54.3-24.4,54.3-54.3v-43c12-2.9,21.2-13.2,22.5-25.7l15.4-15.4c1.3-1.3,2-3.1,2-4.9v-26.7   C499.3,98.6,496.1,95.5,492.3,95.5z"})),N=function(e){var t=e.svgRef,a=e.title,n=k(e,["svgRef","title"]);return r.a.createElement("svg",g({id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,y,C)},O=r.a.forwardRef((function(e,t){return r.a.createElement(N,g({svgRef:t},e))})),j=(a.p,a(36),function(){return r.a.createElement("div",{className:"header"},r.a.createElement(E.b,{to:"/",className:"logo-container"},r.a.createElement(O,{className:"logo"})),r.a.createElement(E.b,{to:"/settings",className:"options"},r.a.createElement("a",{className:"option"},"Options")))}),w=function(e){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("h1",{className:"App-header"},"Robot amount: ",p()(Math.floor(e.robots)).format("0.00 a")),r.a.createElement(d,{clickHandler:function(){return e.clickHandler()}}),r.a.createElement("hr",null),r.a.createElement(b,{infrastructures:e.infrastructures,infraClickHandler:function(t){return e.infraClickHandler(t)},amountRobots:e.robots}))},H=a(5),S=function(){return r.a.createElement(j,null)},M=a(23),x=(a(42),a(43),function(e){var t=e.handleChange,a=e.label,n=e.value,c=e.name,l=e.required;return r.a.createElement("div",{className:"group"},r.a.createElement("input",{className:"form-input",onChange:function(e){return t(e)},name:c,value:n,required:l}),a?r.a.createElement("label",{className:"".concat(n.length?"shrink":"","  form-input-label")},a):null)}),R=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={username:"",team:n.props.teams[0]},n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(e);var t={type:"join_request",payload:{username:this.state.username,team:this.state.team}};this.props.ws.send(JSON.stringify(t)),this.setState({username:"",team:""})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(M.a)({},n,a))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(x,{handleChange:function(t){return e.handleChange(t)},label:"Username",value:this.state.username,name:"username",required:!0}),r.a.createElement("select",{value:this.state.team,name:"team",onChange:function(t){return e.handleChange(t)}},this.props.teams.map((function(e){return r.a.createElement("option",{key:e,value:e},e.toUpperCase())}))),r.a.createElement("input",{className:"button",type:"submit",value:"Login"})))}}]),a}(r.a.Component),z=(a(44),function(e){return r.a.createElement("div",{className:"fullPage"},r.a.createElement("div",{className:"div-center"},r.a.createElement(O,{className:"logo"}),r.a.createElement("div",{className:"container"},r.a.createElement(R,{teams:e.teams,ws:e.ws}))))}),I=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).wsMessageHandler=function(e){var t=JSON.parse(e);switch(t.type){case"available_teams":var a=t.payload.teams;console.log(a),n.setState({teams:a});break;default:console.log(t)}},n.infraClickHandler=function(e){var t=n.state.infrastructures,a=t.findIndex((function(t){return t.id===e})),r=t[a];n.state.robots>=r.price&&(r.amount+=1,n.setState((function(e){return{infrastructures:t,robots:e.robots-r.price}})),r.price=Math.floor(1.1*r.price))};var r=new WebSocket("ws://hyperflow.ninja:9001/socket");return r.onmessage=function(e){return n.wsMessageHandler(e.data)},n.state={robots:0,infrastructures:[{id:0,name:"Factory",amount:0,price:10,income:10},{id:1,name:"City",amount:0,price:1e3,income:100},{id:2,name:"Region",amount:0,price:1e4,income:1e3}],teams:[],websocket:r},n.clickHandler=n.clickHandler.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"clickHandler",value:function(){this.setState((function(e){return{robots:e.robots+1}}))}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){var t,a=0,n=Object(s.a)(e.state.infrastructures);try{for(n.s();!(t=n.n()).done;){var r=t.value;a+=r.amount*r.income}}catch(c){n.e(c)}finally{n.f()}e.setState((function(e){return{robots:e.robots+a/100}}))}),10)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(H.c,null,r.a.createElement(H.a,{exact:!0,path:"/",render:function(){return r.a.createElement(z,{teams:e.state.teams,ws:e.state.websocket})}}),r.a.createElement(H.a,{exact:!0,path:"/clicker-client",render:function(t){return r.a.createElement(w,Object.assign({},t,{robots:e.state.robots,clickHandler:e.clickHandler,infraClickHandler:function(t){return e.infraClickHandler(t)},infrastructures:e.state.infrastructures}))}}),r.a.createElement(H.a,{exact:!0,path:"/settings",component:S})))}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,null,r.a.createElement(I,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.432d6814.chunk.js.map